
# План: Универсальная шестерёнка для админки

## Текущее состояние

```text
Страница "Инициативы" (AdminHeader.tsx):
┌─────────────────────────────────────────────────────────────┐
│ [← Дашборд]  [A] Админка  │ 25 иниц. │  [Импорт CSV] [⚙️]  │
│                                                     └──────│
│                                        📥 Экспорт: Все     │
│                                        📥 Экспорт: Фильтр. │
└─────────────────────────────────────────────────────────────┘

Страница "Люди" (AdminPeople.tsx):
┌─────────────────────────────────────────────────────────────┐
│ [← Админка]  [👥] Люди  │  [Импорт] [Экспорт] [⚙️]         │
│                                                 └──────────│
│                                        📥 Экспорт CSV      │
│                                        ────────────        │
│                                        👁️ Просмотр сотруд.│
│                                        🔄 Синонимы         │
└─────────────────────────────────────────────────────────────┘
```

**Проблемы:**
- Два разных меню: `AdminSettingsMenu.tsx` и `people/SettingsMenu.tsx`
- Кнопка "Импорт CSV" отдельно (хотя это редкое действие)
- На странице "Люди" ещё отдельная кнопка "Экспорт" (disabled)

---

## Целевое состояние

```text
Обе страницы — единая шестерёнка:
┌─────────────────────────────────────────────────────────────┐
│ [← Дашборд]  [A] Админка  │ 25 иниц. │             [⚙️]    │
│                                                     └──────│
│  📤 ДАННЫЕ                                                 │
│  ────────────                                              │
│  📥 Импорт инициатив (CSV)                                 │
│  📥 Импорт сотрудников (CSV)                               │
│  📤 Экспорт: Все инициативы (25)                           │
│  📤 Экспорт: Отфильтрованные (12)   ← если есть фильтры    │
│                                                            │
│  🔧 СПРАВОЧНИКИ                                            │
│  ────────────                                              │
│  👁️ Просмотр сотрудников                                  │
│  🔄 Синонимы Unit/Team                                     │
└─────────────────────────────────────────────────────────────┘
```

---

## Преимущества

| Аспект | Было | Станет |
|--------|------|--------|
| Количество кнопок | 2-3 | 1 (⚙️) |
| Интерфейс | Разный на страницах | Единый |
| Импорт | Отдельная кнопка | Внутри меню |
| Справочники | Только на "Люди" | Везде доступны |

---

## Изменения файлов

### 1. Создать `src/components/admin/UnifiedSettingsMenu.tsx`

Новый универсальный компонент:
- Объединяет функционал обоих меню
- Принимает все callbacks как optional props
- Группирует пункты по секциям

```typescript
interface UnifiedSettingsMenuProps {
  // Импорт
  onImportInitiatives?: () => void;
  onImportPeople?: () => void;
  
  // Экспорт инициатив
  onExportAllInitiatives?: () => void;
  onExportFilteredInitiatives?: () => void;
  initiativesTotal?: number;
  initiativesFiltered?: number;
  hasInitiativeFilters?: boolean;
  
  // Экспорт людей (на будущее)
  onExportPeople?: () => void;
  
  // Общее
  hasData?: boolean;
}
```

Структура меню:
```
📤 ДАННЫЕ
────────
📥 Импорт инициатив (CSV)
📥 Импорт сотрудников (CSV)
📤 Экспорт: Все инициативы (25)
📤 Экспорт: Отфильтрованные (12)

🔧 СПРАВОЧНИКИ  
────────
👁️ Просмотр сотрудников
🔄 Синонимы Unit/Team
```

### 2. Обновить `src/components/admin/AdminHeader.tsx`

- Убрать кнопку "Импорт CSV"
- Заменить `AdminSettingsMenu` на `UnifiedSettingsMenu`
- Передать callback `onImportClick` как `onImportInitiatives`

### 3. Обновить `src/pages/AdminPeople.tsx`

- Убрать кнопки "Импорт CSV" и "Экспорт"
- Заменить `SettingsMenu` на `UnifiedSettingsMenu`
- Передать callback для импорта людей

### 4. Удалить устаревшие файлы

- `src/components/admin/AdminSettingsMenu.tsx` — заменён на UnifiedSettingsMenu
- `src/components/admin/people/SettingsMenu.tsx` — заменён на UnifiedSettingsMenu

---

## Визуальный результат

**Страница "Инициативы":**
```
[← Дашборд] [A] Админка  25 иниц. [Сохранено ✓]         [⚙️]
```

**Страница "Люди":**
```
[← Админка] [👥] Люди  12 чел. • 8 инициатив             [⚙️]
```

**Меню (одинаковое):**
```
📤 ДАННЫЕ
─────────────────────────
📥 Импорт инициатив (CSV)
📥 Импорт сотрудников (CSV)
📤 Экспорт: Все инициативы (25)
📤 Экспорт: Отфильтрованные (12)

🔧 СПРАВОЧНИКИ
─────────────────────────
👁️ Просмотр сотрудников
🔄 Синонимы Unit/Team
```
