
# План: Увеличить лимит описания в тултипе до 500 символов

## Текущее состояние

| Параметр | Сейчас |
|----------|--------|
| Лимит символов описания | 150 |
| max-height текстового блока | 60px (~3 строки) |
| max-width тултипа | 360px |
| max-height тултипа | 400px |

---

## Мои рекомендации как UX/UI дизайнера

### Оптимальный лимит символов: **400-450 символов**

**Почему не 500:**
- 500 символов при ширине 360px = ~12-14 строк текста
- Это примерно 220-250px высоты только на описание
- Плюс заголовок (~50px), метаданные (~60px), стейкхолдеры (~50px) = **380-410px**
- При 500 символах тултип будет слишком высоким и может не влезть на экран

**Почему 400-450 оптимально:**
- 400 символов = ~8-10 строк = 160-180px высоты описания
- Итого тултип: ~320-340px — комфортно помещается
- Это 2-3 предложения — достаточно для понимания сути

### Стратегия для очень длинных описаний

Если описание > 450 символов:
1. Показываем 450 символов + "…"
2. Пользователь кликает → раскрывается полностью
3. При раскрытии — добавить скролл **внутри блока описания**, а не всего тултипа

Это гарантирует, что **стейкхолдеры всегда видны** без скролла.

---

## Изменения

### 1. `src/components/GanttView.tsx`

```typescript
// Было (строка 500)
const descriptionLong = row.description && row.description.length > 150;

// Станет
const descriptionLong = row.description && row.description.length > 450;

// Было (строка 574)
: row.description.slice(0, 150) + '…'

// Станет
: row.description.slice(0, 450) + '…'
```

### 2. `src/styles/gantt.css`

```css
/* Было */
.gantt-name-popup {
  max-width: 360px;
  max-height: 400px;
}

.gantt-name-popup-text.truncated {
  max-height: 60px;
}

/* Станет */
.gantt-name-popup {
  max-width: 420px;      /* Шире → меньше строк в высоту */
  max-height: 520px;     /* Больше места для контента */
}

.gantt-name-popup-text.truncated {
  max-height: 180px;     /* ~8-10 строк текста */
}

/* НОВОЕ: Скролл только для раскрытого описания */
.gantt-name-popup-text.expanded {
  max-height: 250px;     /* Ограничение даже для раскрытого */
  overflow-y: auto;      /* Скролл внутри описания */
}
```

---

## Итоговые параметры

| Параметр | Было | Станет |
|----------|------|--------|
| Лимит символов | 150 | **450** |
| max-width тултипа | 360px | **420px** |
| max-height тултипа | 400px | **520px** |
| max-height описания (обрезанное) | 60px | **180px** |
| max-height описания (раскрытое) | без ограничения | **250px + скролл** |

---

## Почему это хороший UX

1. **Стейкхолдеры всегда видны** — скролл только внутри описания, не всего тултипа
2. **Шире = меньше высоты** — 420px ширины экономит вертикальное пространство
3. **Градиент "читать далее"** — уже есть в CSS, сохраняем
4. **450 символов = 3-4 предложения** — достаточно для понимания без клика

---

## Файлы для изменения

| Файл | Изменение |
|------|-----------|
| `src/components/GanttView.tsx` | 150 → 450 в двух местах |
| `src/styles/gantt.css` | Обновить max-width, max-height, добавить скролл для expanded |

---

## Оценка

| Метрика | Значение |
|---------|----------|
| Сложность | Низкая |
| Файлов | 2 |
| Риск | Минимальный |
