

# –ü–ª–∞–Ω: Support —Å –∫–∞—Å–∫–∞–¥–Ω–æ–π –ª–æ–≥–∏–∫–æ–π

## –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

```text
–ò–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∂–∏–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–∞–º –Ω–∞–≤—Å–µ–≥–¥–∞:

Q1        Q2        Q3        Q4
[Dev]  ‚Üí  [Dev]  ‚Üí  [Support] ‚Üí  [Support]
                       ‚Üë           ‚Üë
                    –º–æ–∂–Ω–æ      –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
                    –≤—ã–±—Ä–∞—Ç—å    (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

**–ü—Ä–∞–≤–∏–ª–∞:**
- –ï—Å–ª–∏ `support = true` –≤ –∫–≤–∞—Ä—Ç–∞–ª–µ N, –≤—Å–µ –∫–≤–∞—Ä—Ç–∞–ª—ã > N —Ç–æ–∂–µ `support = true`
- –ù–µ–ª—å–∑—è —Å–Ω—è—Ç—å Support –≤ –∫–≤–∞—Ä—Ç–∞–ª–µ, –µ—Å–ª–∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –∫–≤–∞—Ä—Ç–∞–ª–µ —É–∂–µ Support
- –ü–µ—Ä–≤—ã–π Support-–∫–≤–∞—Ä—Ç–∞–ª ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π (–º–æ–∂–Ω–æ —Å–Ω—è—Ç—å, –µ—Å–ª–∏ –ø–µ—Ä–µ–¥—É–º–∞–ª)

---

## –ò–∑–º–µ–Ω–µ–Ω–∏—è UI

### –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –≤–∏–¥ (QuarterCell)

**–ë—ã–ª–æ:**
```
[‚óè] 150K ‚ÇΩ [35%] [S]
 ‚Üë                 ‚Üë
OnTrack         Support
```

**–°—Ç–∞–Ω–µ—Ç:**
```
150K ‚ÇΩ [35%] [üîß]
              ‚Üë
           Support (–∏–∫–æ–Ω–∫–∞ wrench)
```

- –£–±–∏—Ä–∞–µ–º —Ç–æ—á–∫—É OnTrack (–∫–∞–∫ —Ç—ã –ø—Ä–µ–¥–ª–æ–∂–∏–ª ‚Äî –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º, –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω—É–∂–Ω–æ –ª–∏)
- –ó–∞–º–µ–Ω—è–µ–º –±–µ–π–¥–∂ "S" –Ω–∞ –∏–∫–æ–Ω–∫—É üîß (wrench) ‚Äî –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–Ω—è—Ç–Ω–µ–µ
- –î–æ–±–∞–≤–ª—è–µ–º tooltip "–†–µ–∂–∏–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏" –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏

### –†–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π –≤–∏–¥

**–°—Ç–∞–Ω–µ—Ç:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ö–æ—ç—Ñ—Ñ. —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç   [35] %        ‚îÇ
‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ –†–µ–∂–∏–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏      [‚óã‚îÄ‚îÄ‚óè]  ‚Üê NEW ‚îÇ
‚îÇ   ‚îî "–í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∫–≤–∞—Ä—Ç–∞–ª—ã      ‚îÇ
‚îÇ      –±—É–¥—É—Ç –≤ —Ä–µ–∂–∏–º–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏"     ‚îÇ
‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ On-Track             [‚óè‚îÄ‚îÄ‚óã]        ‚îÇ
‚îÇ –î–æ–ø. —Ä–∞—Å—Ö–æ–¥—ã         [____]        ‚îÇ
‚îÇ –ü–ª–∞–Ω –º–µ—Ç—Ä–∏–∫–∏         [____]        ‚îÇ
‚îÇ –§–∞–∫—Ç –º–µ—Ç—Ä–∏–∫–∏         [____]        ‚îÇ
‚îÇ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π          [____]        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

–ï—Å–ª–∏ –∫–≤–∞—Ä—Ç–∞–ª —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–ª Support –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ:
```
‚îÇ –†–µ–∂–∏–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏      [‚óè‚îÄ‚îÄ‚óè] üîí     ‚îÇ
‚îÇ   ‚îî "–£–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–æ –æ—Ç Q2"           ‚îÇ
```

---

## –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤

### 1. `src/components/admin/QuarterCell.tsx`

**–ù–æ–≤—ã–µ props:**
```typescript
interface QuarterCellProps {
  quarter: string;
  data: AdminQuarterData;
  onChange: (field: keyof AdminQuarterData, value: string | number | boolean) => void;
  // ... existing props
  
  // NEW: –¥–ª—è –ª–æ–≥–∏–∫–∏ –∫–∞—Å–∫–∞–¥–Ω–æ–≥–æ Support
  isInheritedSupport?: boolean;  // true –µ—Å–ª–∏ Support —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–≤–∞—Ä—Ç–∞–ª–∞
  inheritedFromQuarter?: string; // "2025-Q2" ‚Äî –æ—Ç –∫–∞–∫–æ–≥–æ –∫–≤–∞—Ä—Ç–∞–ª–∞ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–æ
}
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è UI:**

1. **–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –≤–∏–¥:**
   - –£–±—Ä–∞—Ç—å —Ü–≤–µ—Ç–Ω—É—é —Ç–æ—á–∫—É OnTrack
   - –ó–∞–º–µ–Ω–∏—Ç—å `<Badge>S</Badge>` –Ω–∞ `<Wrench size={12} />` —Å tooltip

2. **–†–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π –≤–∏–¥:**
   - –î–æ–±–∞–≤–∏—Ç—å toggle "–†–µ–∂–∏–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏" –º–µ–∂–¥—É "–ö–æ—ç—Ñ—Ñ. —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç" –∏ "On-Track"
   - –ï—Å–ª–∏ `isInheritedSupport = true`: toggle disabled + –∏–∫–æ–Ω–∫–∞ –∑–∞–º–∫–∞ + –ø–æ–¥—Å–∫–∞–∑–∫–∞

### 2. `src/components/admin/InitiativeTable.tsx`

**–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è inherited support:**

```typescript
// –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ –∏ –∫–∞–∂–¥–æ–≥–æ –∫–≤–∞—Ä—Ç–∞–ª–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º:
const getInheritedSupportInfo = (row: AdminDataRow, quarter: string, quarters: string[]) => {
  const quarterIndex = quarters.indexOf(quarter);
  
  // –ò—â–µ–º –ø–µ—Ä–≤—ã–π –∫–≤–∞—Ä—Ç–∞–ª —Å support = true –¥–æ —Ç–µ–∫—É—â–µ–≥–æ
  for (let i = 0; i < quarterIndex; i++) {
    const prevQ = quarters[i];
    if (row.quarterlyData[prevQ]?.support) {
      return {
        isInherited: true,
        fromQuarter: prevQ
      };
    }
  }
  
  return { isInherited: false, fromQuarter: null };
};
```

**–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ support ‚Äî –∫–∞—Å–∫–∞–¥–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**

```typescript
const handleSupportChange = (rowId: string, quarter: string, value: boolean) => {
  if (value) {
    // –í–∫–ª—é—á–∞–µ–º support –¥–ª—è —ç—Ç–æ–≥–æ –∏ –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∫–≤–∞—Ä—Ç–∞–ª–æ–≤
    const quarterIndex = quarters.indexOf(quarter);
    for (let i = quarterIndex; i < quarters.length; i++) {
      onQuarterDataChange(rowId, quarters[i], 'support', true);
    }
  } else {
    // –ú–æ–∂–Ω–æ –≤—ã–∫–ª—é—á–∏—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–≤–∞—Ä—Ç–∞–ª –Ω–µ Support
    onQuarterDataChange(rowId, quarter, 'support', false);
  }
};
```

### 3. `src/lib/adminDataManager.ts`

–î–æ–±–∞–≤–∏—Ç—å helper-—Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ Support:

```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞: –º–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å support –≤ —ç—Ç–æ–º –∫–≤–∞—Ä—Ç–∞–ª–µ
export function canToggleSupport(
  quarterlyData: Record<string, AdminQuarterData>,
  quarter: string,
  quarters: string[]
): { canToggle: boolean; reason?: string; inheritedFrom?: string } {
  const quarterIndex = quarters.indexOf(quarter);
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∫–≤–∞—Ä—Ç–∞–ª—ã
  for (let i = 0; i < quarterIndex; i++) {
    if (quarterlyData[quarters[i]]?.support) {
      return {
        canToggle: false,
        reason: '–£–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–æ –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–≤–∞—Ä—Ç–∞–ª–∞',
        inheritedFrom: quarters[i]
      };
    }
  }
  
  return { canToggle: true };
}
```

---

## –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –≤–∏–¥ (–±–µ–∑ Support):**
```
150K ‚ÇΩ [35%]        [‚ñº]
```

**–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –≤–∏–¥ (—Å Support):**
```
150K ‚ÇΩ [35%] üîß     [‚ñº]
        ‚Üë
     tooltip: "–†–µ–∂–∏–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏"
```

**–†–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π –≤–∏–¥ (Support —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π):**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ö–æ—ç—Ñ—Ñ. —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç  [35] %       ‚îÇ
‚îÇ –†–µ–∂–∏–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏     [‚óã‚îÄ‚îÄ‚îÄ‚óè]      ‚îÇ
‚îÇ   ‚ö† –í—Å–µ –∫–≤–∞—Ä—Ç–∞–ª—ã –¥–∞–ª–µ–µ —Å—Ç–∞–Ω—É—Ç    ‚îÇ
‚îÇ     –≤ —Ä–µ–∂–∏–º–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏           ‚îÇ
‚îÇ On-Track            [‚óè‚îÄ‚îÄ‚îÄ‚óã]      ‚îÇ
‚îÇ ...                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–†–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π –≤–∏–¥ (Support —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω):**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ö–æ—ç—Ñ—Ñ. —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç  [35] %       ‚îÇ
‚îÇ –†–µ–∂–∏–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏     [‚óè‚îÄ‚îÄ‚îÄ‚óè] üîí   ‚îÇ
‚îÇ   ‚Ñπ –£–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–æ –æ—Ç 2025-Q2      ‚îÇ
‚îÇ On-Track            [‚óè‚îÄ‚îÄ‚îÄ‚óã]      ‚îÇ
‚îÇ ...                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–µ—Ä–µ–≤–æ–¥ –≤ Support**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Q3
2. –í–∫–ª—é—á–∞–µ—Ç "–†–µ–∂–∏–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏"
3. Q3 –∏ Q4 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è Support
4. Q4 –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "üîí –£–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–æ –æ—Ç Q3"

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –û—Ç–º–µ–Ω–∞ (–ø–æ–∫–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ)**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–∫–ª—é—á–∏—Ç—å Support –≤ Q3
2. Q4 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–æ–∂–µ —Ç–µ—Ä—è–µ—Ç Support
3. (—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ Q2 –Ω–µ Support)

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–π**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Q4 (—É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω –æ—Ç Q3)
2. Toggle –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
3. Tooltip –æ–±—ä—è—Å–Ω—è–µ—Ç: "–°–Ω–∞—á–∞–ª–∞ —Å–Ω–∏–º–∏—Ç–µ Support —Å Q3"

